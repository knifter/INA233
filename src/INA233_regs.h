#ifndef __INA233_REGS_H
#define __INA233_REGS_H

#define REG_CLEAR_FAULTS			0x03	// W0
#define REG_RESTORE_DEFAULT_ALL		0x12	// W0
#define REG_CAPABILITY				0x19	// R1
#define REG_IOUT_OC_WARN_LIMIT		0x4A	// RW2
#define REG_VIN_OV_WARN_LIMIT		0x57	// RW2
#define REG_VIN_UV_WARN_LIMIT		0x58	// RW2
#define REG_PIN_OP_WARN_LIMIT		0x6B	// RW2
#define REG_STATUS_BYTE				0x78	// R1
	#define STATUS_BYTE_BUSY				0x80
	#define STATUS_BYTE_OFF					0x40
	#define STATUS_BYTE_VOUT_OV				0x20
	#define STATUS_BYTE_IOUT_OV				0x10
	#define STATUS_BYTE_VIN_UV				0x08
	#define STATUS_BYTE_TEMPERATURE			0x04
	#define STATUS_BYTE_CML					0x02
	#define STATUS_BYTE_OTHER				0x01 // = IOUT_OC_WARNING | VIN_OV_WARNING | VIN_UV_WARNING | IIN_OC_WARNING
#define REG_STATUS_WORD				0x79	// R2
	#define STATUS_WORD_IOUT_POUT			0x4000
	#define STATUS_WORD_INPUT				0x2000
	#define STATUS_WORD_MFR					0x1000
	#define STATUS_WORD_CML					0x0002
	#define STATUS_WORD_OTHER				0x0001
#define REG_STATUS_IOUT				0x7B	// RW1
	#define STATUS_IOUT_OC_WARN			0x40
#define REG_STATUS_INPUT			0x7C	// RW1
	#define STATUS_INPUT_OV_WARN			0x40
	#define STATUS_INPUT_UV_WARN			0x20
	#define STATUS_INPUT_IIN_OC_WARN		0x02
	#define STATUS_INPUT_PIN_OP_WARN		0x01
#define REG_STATUS_CML				0x7E	// RW1
#define REG_STATUS_MFR_SPECIFIC		0x80	// RW1
	#define STATUS_MFR_SPECIFIC_READY		0x80
	#define STATUS_MFR_SPECIFIC_OVERFLOW	0x40
	#define STATUS_MFR_SPECIFIC_POR			0x20
	#define STATUS_MFR_SPECIFIC_COMMFAULT	0x10
	#define STATUS_MFR_SPECIFIC_OP			0x08
	#define STATUS_MFR_SPECIFIC_OC			0x04
	#define STATUS_MFR_SPECIFIC_OV			0x02
	#define STATUS_MFR_SPECIFIC_UV			0x01
#define REG_READ_EIN				0x86	// BR6
#define REG_READ_VIN				0x88	// R2
#define REG_READ_IIN				0x89	// R2
#define REG_READ_VOUT				0x8B	// R2 == VIN
#define REG_READ_IOUT				0x8C	// R2 == IIN
#define REG_READ_POUT				0x96	// R2 == PIN
#define REG_READ_PIN				0x97	// R2
#define REG_MFR_ID					0x99	// BR2
#define REG_MFR_MODEL				0x9A	// BR6=0x49 4e 41 32 33 33=INA233
#define REG_MFR_REVISION			0xD0	// R2=0x4130=A0
#define REG_MFR_ADC_CONFIG			0xD1	// RW2:0x4127
	#define MFR_ADC_CONFIG_DFLT			0x4127 // 0b0100 000 100 100 111
	#define		ADC_CONFIG_AVG_SHIFT	9
	#define 	ADC_CONFIG_AVG_MASK		(0b111 << ADC_CONFIG_AVG_SHIFT) 	// 0b0000111000000000
	#define 	ADC_CONFIG_AVG_1		(0b000 << ADC_CONFIG_AVG_SHIFT)	// Default
	#define 	ADC_CONFIG_AVG_4		(0b001 << ADC_CONFIG_AVG_SHIFT)
	#define 	ADC_CONFIG_AVG_16		(0b010 << ADC_CONFIG_AVG_SHIFT)
	#define 	ADC_CONFIG_AVG_64		(0b011 << ADC_CONFIG_AVG_SHIFT)
	#define 	ADC_CONFIG_AVG_128		(0b100 << ADC_CONFIG_AVG_SHIFT)
	#define 	ADC_CONFIG_AVG_256		(0b110 << ADC_CONFIG_AVG_SHIFT)
	#define 	ADC_CONFIG_AVG_1024		(0b111 << ADC_CONFIG_AVG_SHIFT)
	#define		ADC_CONFIG_VBUS_SHIFT	6
	#define		ADC_CONFIG_VBUS_MASK	(0b111 << ADC_CONFIG_AVG_SHIFT)
	#define		ADC_CONFIG_VBUS_140		(0b000 << ADC_CONFIG_VBUS_SHIFT)
	#define		ADC_CONFIG_VBUS_204		(0b001 << ADC_CONFIG_VBUS_SHIFT)
	#define		ADC_CONFIG_VBUS_332		(0b010 << ADC_CONFIG_VBUS_SHIFT)
	#define		ADC_CONFIG_VBUS_558		(0b011 << ADC_CONFIG_VBUS_SHIFT)
	#define		ADC_CONFIG_VBUS_1100	(0b100 << ADC_CONFIG_VBUS_SHIFT)	// Default
	#define		ADC_CONFIG_VBUS_2116	(0b101 << ADC_CONFIG_VBUS_SHIFT)
	#define		ADC_CONFIG_VBUS_4156	(0b110 << ADC_CONFIG_VBUS_SHIFT)
	#define		ADC_CONFIG_VBUS_8244	(0b111 << ADC_CONFIG_VBUS_SHIFT)
	#define		ADC_CONFIG_SHNT_SHIFT	3
	#define		ADC_CONFIG_SHNT_MASK	(0b111 << ADC_CONFIG_SHNT_SHIFT)
	#define		ADC_CONFIG_SHNT_140		(0b000 << ADC_CONFIG_SHNT_SHIFT)
	#define		ADC_CONFIG_SHNT_204		(0b001 << ADC_CONFIG_SHNT_SHIFT)
	#define		ADC_CONFIG_SHNT_332		(0b010 << ADC_CONFIG_SHNT_SHIFT)
	#define		ADC_CONFIG_SHNT_558		(0b011 << ADC_CONFIG_SHNT_SHIFT)
	#define		ADC_CONFIG_SHNT_1100	(0b100 << ADC_CONFIG_SHNT_SHIFT)	// Default
	#define		ADC_CONFIG_SHNT_2116	(0b101 << ADC_CONFIG_SHNT_SHIFT)
	#define		ADC_CONFIG_SHNT_4156	(0b110 << ADC_CONFIG_SHNT_SHIFT)
	#define		ADC_CONFIG_SHNT_8244	(0b111 << ADC_CONFIG_SHNT_SHIFT)
	#define		ADC_CONFIG_MODE_SHIFT	0
	#define		ADC_CONFIG_MODE_MASK	(0b111 << ADC_CONFIG_MODE_SHIFT)
	#define		ADC_CONFIG_MODE_POWERDOWN	(0b000 << ADC_CONFIG_MODE_SHIFT)
	#define		ADC_CONFIG_MODE_SHUNT	(0b001 << ADC_CONFIG_MODE_SHIFT)	// Default
	#define		ADC_CONFIG_MODE_BUS		(0b010 << ADC_CONFIG_MODE_SHIFT)	// Default
	#define		ADC_CONFIG_MODE_CONT	(0b100 << ADC_CONFIG_MODE_SHIFT)	// Default

#define REG_MFR_READ_SHUNT			0xD1	// R2
#define REG_MFR_ALERT_MASK			0xD2	// RW1:0xF0
#define REG_MFR_CALIBRATION			0xD4	// RW2
#define REG_MFR_DEVICE_CONFIG		0xD5	// RW1
	#define	MFR_DEVICE_CONFIG_DFLT		0x02
#define REG_CLEAR_EIN				0xD6	// W0
#define REG_TI_MFR_ID				0xE0	// R2=0x5449='TI'
#define REG_TI_MFR_MODEL			0xE1	// R2=0x3333='33'
#define REG_TI_MFR_REVISION			0xE2	// R2=0x4130='A0'

#endif // __INA233_REGS_H